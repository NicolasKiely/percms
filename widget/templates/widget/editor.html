<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Widget Editor</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, Helvetica, serif;
    }

    /* ----- ----- Header ----- ----- */
    /* Page header bar */
    header {
      background-color: #4060D0;
      padding: 20px;
      margin: 0;
      width: 100%;
      height: 10%;
      box-sizing: border-box;
      font-family: "Times New Roman", serif;
      font-size: 120%;
      color: #EEE;
    }

    /* Raised case title */
    span.hcase {
      font-size: 160%;
    }

    div.header-bar {
      /* background-color: #FFA545; */
      background-image: linear-gradient(
        #0080FF, #EEE
      );
      width: 100%;
      box-sizing: border-box;
      margin: 0;
      padding: 1px;
    }

    /* ----- ----- Side Bar ----- ----- */
    /* Side bar + workspace */
    section {
      height: 90%;
      width: 100%;
      margin: 0;
      padding: 0;
      position: fixed;
      box-sizing: border-box;
    }
    section:after {
      content: "";
      clear: both;
    }

    /* Side bar */
    nav {
      background-color: #FFF;
      width: 20%;
      margin: 0;
      float: left;
      height: 100%;
      padding: 0;
      box-sizing: border-box;
    }

    div.sidebar-block {
      background: transparent;
      border-bottom: solid #EEE 1px;
      margin: 0;
    }

    div.sidebar-title {
      padding-left: 20px;
      padding-top: 20px;
      padding-bottom: 20px;
      font-weight: bold;
    }

    div.sidebar-indicator {
      border: solid #555 1px;
      border-radius: 8px;
      width: 8px;
      height: 8px;
      margin-top: 4px;
      margin-right: 5px;
      display: block;
      float: left;

      background-image: radial-gradient(
          #FFF, #444
      );
    }

    /* Active sidebar title */
    div.sidebar-block-active div.sidebar-title{
      background: #DDD;
      margin: 0;
    }

    /* Active sidebar indicator */
    div.sidebar-block-active div.sidebar-indicator {
      background-image: radial-gradient(
        #4DF, #226
      );
    }


    /* ----- ----- Workspace ----- ----- */

    span.widget-title {
      font-weight: bold;
      padding-left: 8px;
      padding-right: 8px;
    }

    span.widget-title-left {
      text-align: left;
    }

    span.widget-title-right {
      float: right;
    }

    div.widget-title-active {
      color: #25A;
      border-bottom: solid 1px #25A;
      display: inline-block;
    }

    /* Workspace */
    article {
      /*background-color: #3F51B5;*/
      background-color: #EEEEF8;
      width: 80%;
      float: left;
      margin: 0;
      height: 100%;
      padding: 10px;
      overflow: scroll;
      box-sizing: border-box;
    }

    div.widget-group {
      float: left;
      display: inline-block;
      overflow: auto;
      height: 100%;
    }

    div.widget {
      /*background-color: #ADD8E6;*/
      background-color: #FFF;
      float: left;
      height: 90%;
      margin: 10px;
      box-sizing: border-box;
      border-radius: 5px;
      border-collapse: collapse;
      border: #DDD 2px solid;
      padding: 0;
      min-width: 160px;
      /* border: solid #030 3px; */
    }

    div.widget-header {
      /* background-color: #BEEDFD; */
      background-color: #DDD;
      box-sizing: border-box;
      padding: 15px;
    }

    div.widget-body {
      /* background-color: #ADD8E6; */
      float: top;
      padding: 20px;
    }

    .action {
      display: block;
      float: bottom;
      width: 100%;
      padding-top: 5px;
      padding-bottom: 5px;
      margin-top: 5px;
      margin-bottom: 5px;
      text-align: center;
      border-radius: 30px;
    }

    .action-inactive {
      background-color: #444;
      color: #AAC;
    }

    .action-inactive:hover {
      background-color: #557;
      font-weight: bold;
      color: #EEF;
      cursor: pointer;
    }

    .action-active {
      background-color: #35E;
      color: #EEF;
      font-weight: bold;
    }

    .add-action:before {
      content: '+';
      border: solid black 1px;
      padding: 0 4px 2px;
      border-radius: 100%;
      margin-right: 5px;
      width: 10px;
      height: 10px;
      text-align: center;
      color: white;
      background-color: black;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <span class="hcase">W</span>OLF<span class="hcase">G</span>EN
    <span class="hcase">A</span>UTOMATED
    <span class="hcase">T</span>RADING
  </header>
  <div class="header-bar"></div>

  <!-- Editor Bar -->
  <section>
    <nav>
      <div class="sidebar-block">
        <div class="sidebar-title">
          <div class="sidebar-indicator"></div>
          Home
        </div>
      </div>
      <div class="sidebar-block sidebar-block-active">
        <div class="sidebar-title">
          <div class="sidebar-indicator"></div>
          Editor
        </div>
      </div>
      <div class="sidebar-block">
        <div class="sidebar-title">
          <div class="sidebar-indicator"></div>
          Backtest
        </div>
      </div>
    </nav>

      <!-- Widget Editor -->
      <article>
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title widget-title-left widget-title-active">
              BUY
            </span>

            <span class="widget-title widget-title-right">
              SELL
            </span>
          </div>
          <div class="widget-body"></div>
        </div>

        <div class="widget">
          <div class="widget-header">
            <span class="widget-title widget-title-left">
              LOGIC SIGNAL
            </span>
          </div>

          <div class="widget-body">
            <span>Signal if All</span>

            <span class="action action-inactive" onclick="action_click(this)">
              Condition 1
            </span>

            <span class="action action-active" onclick="action_click(this)">
              Condition 2
            </span>

            <button class="add-action" onclick="action_add(this)">Add Condition</button>
          </div>
        </div>

        <div class="widget-group"></div>

        <div class="widget-group">
          <div class="widget">
            <div class="widget-header">
            <span class="widget-title widget-title-left">
              Condition 2
            </span>
            </div>

            <div class="widget-body">
              <span>Comparison</span>
              <span class="action action-active" onclick="action_click(this)">LHS</span>
              <span class="action action-inactive" onclick="action_click(this)">RHS</span>
            </div>
          </div>

          <div class="widget">
            <div class="widget-header">
            <span class="widget-title widget-title-left">
              DATA
            </span>
            </div>

            <div class="widget-body">
              <span class="widget-subheader">Currency</span>

              <div class="action-input">
                <label for="action-data-time">Period</label>
                <select id="action-data-time">
                  <option>5 Min</option>
                  <option>10 Min</option>
                  <option selected="selected">30 Min</option>
                  <option>1 Hr</option>
                  <option>4 Hr</option>
                </select>
              </div>

              <div class="action-input">
                <label for="action-data-value">Value</label>
                <select id="action-data-value">
                  <option>CLOSE</option>
                  <option>OPEN</option>
                  <option selected="selected">HIGH</option>
                  <option>LOW</option>
                </select>
              </div>
            </div>
          </div>
        </div>

      </article>
  </section>


  <script>
    /** Called on click */
    function action_click(el){
      let elChildren = el.parentNode.children;
      let widgetGroupNum = 0;
      let j=0;
      for (let i=0; i<elChildren.length; i++){
        let elChild = elChildren[i];
        if (!elChild.classList.contains('action'))
          continue; // Skip if not action

        // Reset all actions in widget to be inactive
        if (elChild.classList.contains('action-active'))
          elChild.setAttribute('class', 'action action-inactive');

        // Track ordinal position of action in list
        if (el === elChild)
          widgetGroupNum = j;
        j++;
      }
      // Set current action button as active
      el.setAttribute('class', 'action action-active');

      let widgetGroup = el.parentNode.parentNode.nextElementSibling;
      for(j=0; widgetGroup; widgetGroup=widgetGroup.nextElementSibling, j++){
        if (widgetGroupNum === j){
          // Widget group for active action; display
          widgetGroup.style.display = 'inline-block';
        } else {
          // Widget group for inactive action; hide
          widgetGroup.style.display = 'none';
        }
      }
    }

    function action_add(el){

    }
  </script>
</body>
</html>